---
title: "Explorando sitios de comercio electrónico"
subtitle: "Final AID"
author: "Leonardo Aranda"
output: 
  beamer_presentation:
    df_print: kable

---

```{r, echo=FALSE, include=FALSE}
setwd("../")
source("src/main.R")
```

## Introducción

* Crecimiento sostenido del comercio electrónico
* ¿Qué características tiene un sitio de elevado tráfico?
* Estimaciones de tráfico: Alexa + SimilarWeb.

## Variables

| Variable          |                   Descripción                   |
|-------------------|:-----------------------------------------------:|
| url               | Dirección del sitio web                         |
| position          | Pertenece al Top 50.000 mundial                 |
| bounce            | Porcentaje de visitas con una sola página vista |
| ppv               | Páginas vistas por visita                       |
| time              | Tiempo promedio de la visita                    |
| paid_search       | Tráfico pago                                    |
| traffic_direct    | Tráfico directo                                 |
| traffic_display   | Tráfico de redes de publicidad                  |
| traffic_search    | Tráfico de buscadores                           |
| traffic_mail      | Tráfico de correo electrónico                   |
| traffic_social    | Tráfico de redes sociales                       |
| traffic_referrals | Tráfico referido desde otras páginas            |

## Vector de medias

```{r,echo=FALSE}
as.data.frame(tables.means)
```


## Tiempo de visita - Distribución

```{r fig.align="center", echo=FALSE}
plots.timehist
```

## Tiempo de visita - Normalidad

* Prueba de Shapiro-Wilk
```{r fig.align="center", echo=FALSE}
tables.time
```

* Transformación de Box-Cox
```{r fig.align="center", echo=FALSE}
boxcox
```

## Tiempo de visita - Prueba de Mann-Whitney-Wilcoxon

- $H_0$: Los grupos pertenecen a la misma distribución.
- $H_1$: Existen diferencias significativas en la distribución.

```{r,  echo=FALSE}
tables.wilcox
```

## Matriz de correlación

```{r fig.align="center",out.width = "250px",out.height = "250px",echo=FALSE}
knitr::include_graphics("../fig/corr.png")
```


## Componentes principales - Scree Plot

* Tres componentes explican el 60% de la variabilidad.

```{r, echo=FALSE}
plots.scree
```


## Componentes principales - Componente 1

* Nivel de interacción
* Componente de forma

```{r, echo=FALSE}
plots.pc1
```

## Componentes principales - Componente 2

* Conocimiento de marca
* Componente de forma

```{r, echo=FALSE}
plots.pc2
```

## Componentes principales - Componente 3

* Tráfico pago
* Componente de forma

```{r, echo=FALSE}
plots.pc3
```

## Componentes principales - Biplot

* Agrupamiento basado en el nivel de tráfico
* Grupo 1 proyecta valores positivos sobre la primer componente

```{r fig.align="center", echo=FALSE}
plots.biplot
```

## Clustering - Jerárquico

```{r fig.align="center",out.width = "200px",out.height = "200px",echo=FALSE}
knitr::include_graphics("../fig/dend_edit.png")
```


## Clustering - K-means

```{r fig.align="center", echo=FALSE }
plots.biplot2
```

## Clustering - Grupos según posición global

* Cluster 3 concentra a los primeros sitios del ranking.
* Cluster 4 concentra a los últimos sitios del ranking.

```{r, echo=FALSE}
tables.cluster
```

## Clustering - Grupos identificados

* Cluster 3: Baja tasa de rebote, elevado tiempo de visita, elevado tráfico directo.
* Cluster 4: Bajo nivel de páginas por visita, elevado tráfico pago.
* ¿ Hub vs Authority ?

```{r, echo=FALSE}
as.data.frame(t(aggregate(df.num.nos,list(df$cluster),mean)))
```

## Análisis discriminante - Resumen

* No se satisfacen supuestos de normalidad y homocedasticidad
* Análisis discriminante cuadrático
* 70% training / 30% testing.

```{r, echo=FALSE}
tables.matrix
```

## Análisis discriminiate - Puntuaciones

```{r fig.align="center",fig.height = 3, fig.width = 4, echo=FALSE}
plots.qda
```


## Software

* Python + Jupyter: Preparación de datos.
* Rstudio: Análisis y documentación.
* GitHub: Almacenamiento y versionado del código.

## Conclusiones

* Diferencias significativas según el nivel de tráfico